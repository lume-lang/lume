//# test-return = 5

fn assert(predicate: Boolean) {
    if !predicate {
        std::process::bail("assertion failed!");
    }
}

struct Foo { }

trait Equal {
    fn equal(self, other: Self) -> Boolean;

    fn not_equal(self, other: Self) -> Boolean {
        !self.equal(other)
    }
}

use Equal: Foo {
    fn equal(self, other: Self) -> Boolean {
        true
    }
}

pub fn main() -> Int32 {
    let a = Foo { };
    let b = Foo { };

    assert(a.equal(b));
    assert(!a.not_equal(b));

    assert(Equal::equal(a, b));
    assert(!Equal::not_equal(a, b));

    5
}
